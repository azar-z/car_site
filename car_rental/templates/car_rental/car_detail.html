{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Car Details</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'car_rental/stylesheets/car_detail.css' %}">
</head>
<body>
<div class="container">
    <h1>{{ car.car_type }}</h1>

    {% if car.is_rented %}
        <div style="margin-top: 10px" class="alert alert-danger">
            <strong>This car is rented!</strong>
        </div>

        <table class="table table-striped table-hover info-table">
            <tr>
                <td>Exhibition</td>
                <td>{{ car.owner.username }}</td>
            </tr>

            <tr>
                <td>Price (per hour)</td>
                <td>{{ car.price_per_hour }}</td>
            </tr>

            <tr>
                <td>It is rented till:</td>
                <td>{{ car.rent_end_time }}</td>
            </tr>
        </table>


    {% else %}

        <div style="margin-top: 10px" class="alert alert-success">
            <strong>This car is free to rent!</strong>
        </div>
            <table class="table table-striped table-hover info-table">
            <tr>
                <td>Exhibition</td>
                <td>{{ car.owner.username }}</td>
            </tr>

            <tr>
                <td>Price (per hour)</td>
                <td>{{ car.price_per_hour }}</td>
            </tr>

        </table>


        <form action="{% url 'car_rental:rent_request' car.id %}" method="post">
        {% csrf_token %}
        <fieldset style="border: #075454 solid 2px; width: 40%; padding: 30px">
        <legend>Want to rent this car?</legend>
            <div class="form-error">
                 {% if error_message %}
                    {{ error_message }}
                 {% endif %}
            </div>
            <table class="table form-table" style="width: 35%">
                <tr>
                    <td>
                        <label for="rent_start_time">From:</label>
                    </td>
                    <td>
                        <input required id="rent_start_time" name="rent_start_time" type="datetime-local">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="rent_end_time">Until:</label>
                    </td>
                    <td>
                        <input required id="rent_end_time" name="rent_end_time" type="datetime-local">
                    </td>
                </tr>
            </table>

        <input class="btn btn-info" type="submit" value="Submit Request">
        </fieldset>
        </form>


    {% endif %}
</div>
</body>
</html>